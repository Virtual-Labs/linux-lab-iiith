<!-- This file needs to be edited by the lab developer to suit
the requirements of their lab in particular.-->

<!-- Add class="default" to include any element as it is
specified in default.html. 
Do not include class="default" to the elements that you want to
edit -->

<!DOCTYPE html>
<html>
  <head></head>
  <body>

    <div id="experiment"> <!-- The Experiment Document Container-->

      <!-- The lab Header contains the logo and the name of the lab,
	   usually displayed on the top of the page-->

      <header id="experiment-header" >

	<div id="experiment-header-logo" class="logo">
	  <!-- Enclose the logo image of your lab or write it in 
	       text-->
	  <img src="../images/logo.jpg" />
	</div>

	<div id="experiment-header-heading" class="heading">
	  <!-- Write the name of your lab and link it to the home 
	       page of your lab (h1 tag is preferred while writing your 
	       lab name)-->
	  <a href="../index.html">Systems and Software Virtual Lab</a>	
	</div>

	<!-- Add any additional element you want to add to the lab 
	     header, For example : Help (Enclosing them with suitable 
	     div is recommended)-->

      </header>


      <!-- The lab article is the main content area where all the 
	   experiment content sits-->
      <article id="experiment-article">

	<!-- The lab article has an header, optional navigational 
	     menu, number of sections, an optional sidebar and a closing 
	     footer-->

	<header id="experiment-article-heading" class="heading">
	  <!-- You can add a welcome message or title of the 
	       experiment here -->
	  8. Searching
	  <!-- Add any additional element if required with proper 
	       enclosing-->
	</header>

	<!-- Navigation menu is useful to organize the view of 
	     multiple sections inside the article-->
	<nav id="experiment-article-navigation" class="default">
	  <ul id="experiment-article-navigation-menu">
	    <!-- The menu can be dynamically generated to contain 
		 the headings of your sections or instead write the 
		 menu items of your choice individually enclosedu in 
		 <li> tag as shown below-->
	  </ul>
	</nav>

	<!-- All the sections of your lab or experiment can be 
	     enclosed together with a div element as shown below-->
	<div id="experiment-article-sections">

	  <!-- First section of the article-->
	  <section id="experiment-article-section-1">

	    <div id="experiment-article-section-1-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab -->
	      <img src="../images/introduction.jpg" />
	    </div>	

	    <!-- The heading for the section can be enclosed in a 
		 div tag. -->
	    <div id="experiment-article-section-1-heading" 
		 class="heading">
	      Introduction
	    </div>
	    <!-- Write the section content inside a paragraph 
		 element, You can also include images with <img> tag -->
	    <div id="experiment-article-section-1-content" 
		 class="content">	
	      <p align="justify">

		Searching is a basic functionality in any Operating System.  Linux
		provides powerful utilities which not only searches for files and
		folders but also makes it easy to search for text patterns within any
		file in any directory.  In this experiment, <code>grep</code>
		and <code>find</code> have been explained in as much detail and in as
		simple language as possible for the easy understanding of the beginners.

	      </p>

	    </div>


	  </section>

	  <section id="experiment-article-section-2">

	    <div id="experiment-article-section-2-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab. -->
	      <img src="../images/objective.jpg" />
	    </div>

	    <!-- The heading for the section can be enclosed in a 
		 div tag. -->
	    <div id="experiment-article-section-2-heading" 
		 class="heading">
	      Objective
	    </div>
	    

	    <!-- Write the section content inside a paragraph 
		 element, we can also include images with <img> tag -->
	    <div id="experiment-article-section-2-content" 
		 class="content">
	      <!-- Second section of the article-->
	      <p align="justify">

		The objective of this experiment is to familiarize the
		users with the commands <code>grep</code>
		and <code>find</code> to search string patterns and files in the machine
		using command line functions.

		After finishing the Experiment, the user would be able to use the search
		utilities available in Linux easily. 

	      </p>
	    </div>
	  </section>

	  <!-- Second section of the article-->
	  <section id="experiment-article-section-3">

	    <div id="experiment-article-section-3-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab. -->
	      <img src="../images/theory.jpg" />
	    </div>

	    <!-- The heading for the section can be enclosed in a 
		 div tag. -->
	    <div id="experiment-article-section-3-heading" 
		 class="heading">
	      Theory
	    </div>


	    <!-- Write the section content inside a paragraph 
		 element, we can also include images with <img> tag -->
	    <div id="experiment-article-section-3-content" 
		 class="content">
		
	      <h3>grep Command</h3>

	      <p align="justify">

		<code>grep</code> is an extremely powerful search
		utility.  <code>grep</code> searches the specified files
		for the lines containing a match to the given pattern
		specified through a regular expression.  By default, for
		each line that matches or contains a match to the given
		pattern, it prints that line as output.

		<br />
		<br />

		The syntax for using grep command is:
		<br />
		<code>grep [OPTIONS] PATTERN [FILE...]</code>
		<br />
		<code>grep [OPTIONS] [-e PATTERN | -f FILE] [FILE...]</code>  
		<br />
		where OPTIONS are the various options available with the grep command,
		PATTERN is the regular expression pattern to search for, FILE is the
		file containing the text which is matched against the pattern. If no
		file name is given then grep reads from the standard input. 

		<br /> <br />
		<b>The regular expression pattern should always be enclosed within
		  single-quotes.</b> 

		<br /> 
		<br />

		<b>Regular Expressions</b>
		<br />

		Regular expressions (regex) are used to specify a pattern which matches
		a sequence of characters given as input.  The characters used for
		constructing regular expressions are as follows:
		<ul>
		  <li>[] - anything inside the square brackets would be matched once and only once</li>
		  <li>Alphabet Characters - both upper and lower cases - denoted as [a-z] and [A-Z]</li>
		  <li>Digits denoted as [0-9]</li>
		  <li>? meta character denotes a character may occur 0 or 1 times</li>
		  <li>* meta character denotes a character may occur 0 or more times</li>
		  <li>+ meta character denotes a character may occur 1 or more than 1 time</li>
		</ul>

		</p>

	      <p align="justify">

		For example, the strings <code>abbde, abde, abbbbde</code> can be
		denoted using a regular expression <code>a[b]+de</code>. The '+' meta
		character signifies that 'b' can be repeated more than 1 time.
		Similarly, a string made of alphabets and digits such as <code>abc09af,
		  abbbb987, a9876, abbb5</code> can be written using the regular expression
		<code>[a-z]+[0-9]+[a-z]*</code> where first character should be an
		alphabet and there may be more of alphabets, one numeric character
		should follow and more digits can occur there after and more alphabets
		may or may not occur in the string.

		<br />
		<br />

		Thus, while using the <code>grep</code> command, regular expressions are
		very useful in searching for patterns of strings in the file. To
		demonstrate how <code>grep</code> functions, we take a sample text file
		and run the commands on it. The text file is as such:

		<pre class="code">
123456
abcdefgh
aabbaabb
abababab
ABCDefgh1234
ab*23</pre>

		</p>

	      <p align="justify">

		The rules of constructing regular expressions have been explained as follows:

		<br />

		1. Any literal character [a-z] is a pattern that matches
		itself. Thus, each of the literal character is a regular
		expression in itself.

		    <pre class="code">
$ grep 'a' example.txt
abcdefgh
aabbaabb
abababab
ab*23</pre>

		    </p>

		<p align="justify">

		    The command matches 'a' in every line of the
		    file.  <b>Please note that when the command is the
		    terminal / shell, the pattern given in the command
		    is highlighted in the output.</b>  Thus, in the
		    above example, every occurrence of 'a' is
		    highlighted in red color on the terminal.

		    <br />
		    <br />

		    This rule doesn't apply to some meta-characters like
		    '*','.' etc. which have special meaning.  To match
		    these meta-characters, backslash ('\') should
		    precede them to escape the characters.

		    2. Concatenation: Concatenation is achieved by writing
		    regular expression in sequence. For example, regular
		    expressions 'a' and 'b' can be concatenated to form
		    a single regular expression 'ab'.

		    <br />
		    <br />

		    White space characters like space are also treated as regular
		    expressions.  The strings 'ab' and 'a b' are two different regular
		    expressions.

		    <pre class="code">
$ grep 'ab' example.txt 
abcdefgh
aabbaabb
abababab
ab*23

$ grep 'a b' example.txt
$</pre>

		    </p>

		<p align="justify">

		  All the lines with the pattern 'ab' are printed.  But, for the second
		  command, there is no output because there is not pattern 'a b' in the
		  file.

		    <br />
		    <br />

		    3. Parentheses '()' can be used to denote a regular expressions. 'abcd' is
		    concatenation of four regular expressions 'a', 'b', 'c'and 'd', but
		    '(ab)cd' is a concatenation of three regular expressions 'ab', 'c' and
		    'd'.

		    <br />
		    <br />

		    Note: Parentheses are treated as part of the string
		    unless they are escaped with backslash('\').

		    <pre class="code">
$ grep '(ab)cd' example.txt

$ grep '\(ab\)cd' example.txt
abcdefgh</pre>

		</p>

		<p align="justify">

		  Since, there is no 'ab' string enclosed within
		  brackets, the first command does not give any output.
		  But, the second command matches the string pattern
		  given because of the use of backslash before the
		  parentheses.

		  <br />
		  <br />

		  4. Brackets ([]): A list of characters enclosed within
		  '[' and ']' matches any single character in that list.

		    <pre class="code">
$ grep '[abcd]' example.txt
abcdefgh
aabbaabb
abababab
ab*23</pre>

		</p>

		<p align="justify">

		  5. If '^' meta character is placed before the list of
		  characters in Brackets, the pattern matches including
		  those characters are ignored. 

		  <pre class="code">
$ grep '[^abcd]' example.txt
123456
abcdefgh
ABCDefgh1234
ab*23</pre>

		</p>

		<p align="justify">

		  6. The meta character '-' is used to specify the range
		  of characters for pattern matching.  For example, if a
		  string might include any alphabet, regular expression
		  to match the pattern is written as [a-z]. 

		  <pre class="code">
$ grep '[0-9]' example.txt
123456
ABCDefgh1234
ab*23

$ grep '[^a-z]' example.txt
123456
ABCDefgh1234
ab*23 </pre>

		</p>

		<p align="justify">

		  The first command matches the lines with numeric
		  digits in it.  The second command matches all the
		  lines except the lower case alphabets. 

		  <br />
		  <br />

		  7. Matching the empty strings: The meta characters
		  '^', '$' '\<' and '\>' are used to match the empty
		  strings.

		  <br />
		  ^ - matches the empty string at the beginning of the line
		  <br />
		  $ - matches the empty string at the end of the line

		      <pre class="code">
$ grep '^ab' example.txt
abcdefgh
abababab
ab*23

$ grep 'ab$' example.txt
abababab</pre>

		</p>

		<p align="justify">

		  The first command in the above example outputs the lines which start
		  with 'ab'.  The second command outputs the lines which end with 'ab'
		  string.  

		  <br />
		  <br />

		  8. Dot Character: The '.' meta character is used to
		  match any single character.  For example, the
		  following command matches any pattern which start with
		  'a' and ends with '3' and has any three characters in
		  between.

		  <pre class="code">
$ grep 'a...3' example.txt
ab*23</pre>

		</p>

		<p align="justify">

		  9. Repititions: The following operators repeat the occurrence of any
		  character to which they are applied. 

		  <br />
		  * - matches preceding pattern zero or more times
		  <br />
		  ? - matches preceding pattern at most one time
		  <br />
		  + - matches preceding pattern at least once
		  <br />
		  {n} - matches preceding pattern exactly n times
		  <br />
		  {n,} - matches preceding pattern n or more times
		  <br />
		  {n,m} - matches preceding pattern at least n and at most m times

		  <br />
		  <br />

		  <b>Note: Except '*' all of the operators described
		  above lose their special meaning when used with basic
		  regex. Each of these operators have to be preceded by
		  a backslash when used with basic regex or they have to
		  be used extended regex.</b>

		  <pre class="code">
$ grep 'a*' example.txt
123456
abcdefgh
aabbaabb
abababab
ABCDefgh1234
ab*23</pre>

		</p>

		<p align="justify">

		  It outputs all the strings which start with a zero or more times. 

		  <pre class="code">
$ grep '^ab*' example.txt
abcdefgh
aabbaabb
abababab
ab*23</pre>

		</p>

		<p align="justify">

		  It outputs all the strings which start with 'a' and is followed by 'b'
		  zero or more times.

		  <pre class="code">
$ grep '^\(ab\)\(ab\)*' example.txt
abcdefgh
abababab
ab*23</pre>

		</p>

		<p align="justify">

		  It searches for all the patterns in the text file which start with 'ab'
		  and may or not have any more 'ab' pattern. 

		  <pre class="code">
$ grep '^ab\?' example.txt
abcdefgh
aabbaabb
abababab
ab*23</pre>

		</p>

		<p align="justify">

		  It searches for all the patterns which start with 'a' and followed by
		  zero or one 'b'.

		  <pre class="code">
$ grep '^ab\+' example.txt
abcdefgh
abababab
ab*23</pre>

		</p>

		<p align="justify">

		  It searches for all the patterns which start with 'a' and followed by
		  at least one 'b'.

		  <pre class="code">
$ grep '.\{10\}' example.txt
ABCDefgh1234</pre>
		
		</p>

		<p align="justify">

		  It searches for a string exactly 10 characters long.

		  <pre class="code">
$ grep '.\{6,\}' example.txt
123456
abcdefgh
aabbaabb
abababab
ABCDefgh1234</pre>

		</p>

		<p align="justify">

		  It searches for a string at least 6 characters long.

		  <pre class="code">
$ grep '.\{6,10\}' example.txt
123456
abcdefgh
aabbaabb
abababab
ABCDefgh1234</pre>

		</p>

		<p align="justify">

		  It searches for a string at least 6 characters long and at most 10
		  characters long.

		    <br />
		    <br />

		    10. The OR operator (|): The OR operator (|) can be used
		    to join two regular expressions.  The resulting
		    pattern matches any string joined by the OR
		    operator.
		    
		    <br />  
		    <br />

		    Note: The OR operator has to be preceded with a backslash.

<pre class="code">
$ grep '\(^z+\)\|\(1234\)' example.txt
123456
ABCDefgh1234</pre>

		</p>

		<p align="justify">

		  It matches the lines which start with 'z' or the string '1234'. 

		  <br />
		  <br />

		  <b>Options</b>

		  <br />
		  <br />

		  Grep can be used with the following options:

		  <br />

		  <b>v</b> - it reverses the pattern specified and prints all
		  the lines that DO NOT match the specified regular expression

		  <pre class="code">
$ grep '\(^z+\)\|\(1234\)' example.txt
123456
ABCDefgh1234

$ grep -v '\(^z+\)\|\(1234\)' example.txt
abcdefgh
aabbaabb
abababab
ab*23</pre>

		</p>

		<p align="justify">
		  
		  Compare the above commands and note the difference. 

		  <br />
		  <br />

		  <b>A (num)</b> - <code>grep</code> takes a numeric
		  value <i>num</i> as an argument and prints <i>num</i>
		  lines of the file text after the pattern match

		  <pre class="code">
$ grep -A 2 'ab*' example.txt
abcdefgh
aabbaabb
abababab
ABCDefgh1234
ab*23</pre>

		</p>

		<p align="justify">
		  
		  In the above output, the command prints two lines
		  after every pattern match.

		  <br />
		  <br />

		  <b>B (num)</b> - as opposed to the A option, this option
		  prints <i>num</i> lines of text in the file BEFORE the
		  pattern match

		  <pre class="code">
$ grep -B 2 'ab*' example.txt
123456
abcdefgh
aabbaabb
abababab
ABCDefgh1234
ab*23</pre>

		</p>

		<p align="justify">
		  
		  <b>c</b> - it prints the number of lines matching the pattern
		  specified

		  <pre class="code">
$ grep -c 'ab*' example.txt
4</pre>

		</p>

		<p align="justify">
		  
		  <b>o</b> - the option prints only the matched patterns

		  <pre class="code">
$ grep -o 'ab*' example.txt
ab
a
abb
a
abb
ab
ab
ab
ab
ab</pre>

		</p>

	      	<h3>find Command</h3>

		<p align="justify">

		The <i>find</i> command is used to locate files on Linux system.  The
		command searches for the set of directory specified in the argument for
		the files.  The syntax for <code>find</code> is:

		<br/>

		<code>find [path] [option] [file name / expression]</code>

		<br />

		where path is the directory where the file is to be located, file name
		is the file to be located and expression are the regular expressions
		which can be used for pattern matching.

		<br />
		<br />

		Executing <code>find</code> in the terminal lists down all the files in
		the current directory.  The command recursively searches all the files
		and folders in the directory.

		<pre class="code">
$ ls
abcd.org test/

$ find
.
./test
./test/dir
./test/dir/abc.org
./test/image2.jpg
./test/image1.jpg
./test/abc.tar
./test/abc.zip
./test/abd
./test/abc.org
./abcd.org</pre>

		</p>

	      <p align="justify">

		<code>find</code> command provides many options for use.  In this
		tutorial, only two commonly used options would be explained.  For
		further information, please refer to the man page of <code>find</code>.
		<br /> 
		<b>iname</b> - takes an argument and recursively searches the specified
		directory for the given file name or pattern 
		<br /> 
		<b>delete</b> - sometimes, the files no longer needed have to be deleted.
		So, <code>find</code> command is used to locate them and delete is used
		to delete the files

		<pre class="code">
$ find -iname abc.org
./test/dir/abc.org
./test/abc.org</pre>

		</p>

	      <p align="justify">

		To find the files in a specified directory,

		<pre class="code">
$ find test/ -iname abc.org
test/test/dir/abc.org
test/test/abc.org</pre>

		</p>

	      <p align="justify">

		To search for a file using a regular expression pattern, 

		<pre class="code">
$ find test/ -iname 'ab*'
test/test/dir/abc.org
test/test/abc.tar
test/test/abc.zip
test/test/abd
test/test/abc.org
test/abcd.org</pre>

		</p>

	      <p align="justify">

		To delete the specified file,

		<pre class="code">
$ find test/ -iname abc.org -delete</pre>

	      </p>

	      <p align="justify">

		Please note that the delete Option should be used with caution.  It
		should always be at the end of the command arguments.  If the delete
		option is used before iname, all the files and folders would be deleted.
		The command does not ask for permission or provide any warning,
		whatsoever, before execution.  

		</p>

		<h3>Conclusion</h3>

	      <p align="justify">

		The <code>grep</code> and <code>find</code> commands have been explained
		in the theory section.  Now, the user should be able use these commands
		to locate files in the directories easily.  For further information on
		the commands, please refer to the Further Readings Section.  

	      </p>  
	    </div>
	  </section>





	  <section id="experiment-article-section-5">
	    <div id="experiment-article-section-5-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab.-->
	      <img src="../images/simulation.jpg" />
	    </div>
	    
	    <div id="experiment-article-section-5-heading" 
		 class="heading">
	      Tasks
	    </div>
	    
	    <div id="experiment-article-section-5-content" 
		 class="content">
	      <p style="margin-left:0px">
		Students who already have a Virtual-Labs login should click
		<a href="javascript:void(0)"
		   onclick="window.open('../php/login-form.php?expid=8',
			    'welcome', width=screen.availWidth, height=screen.availHeight,status='yes')">
		  here</a> 
		to see the list of tasks for this experiment. <br /> 
		In case the login credentials are not available, then please click 
		<a href="../php/register-form.php">here</a> to
		register.
	      </p>
            </div> 
	  </section>



          <section id="experiment-article-section-6">
	    
            <div id="experiment-article-section-6-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab.-->
	      <img src="../images/quizzes.jpg" />
	    </div>

            <div id="experiment-article-section-6-heading" 
		 class="heading">
              Quiz
            </div>

            <div id="experiment-article-section-6-content" 
		 class="content">

	      <p align="justify">
	      
		<ol>

		<li><code>grep</code> searches for only files and folders in the machine?</li>		  
		<ul>
		  <li>True</li>
		  <li>False</li>
		</ul>

		<li>Regular Expressions help in pattern matching?</li>
		<ul>
		  <li>True</li>
		  <li>False</li>
		</ul>

		<li><code>grep</code> can not search for any special characters in the text files?</li>
		<ul>
		  <li>special characters and meta characters have to be escaped using backslash</li>
		  <li>True</li>
		  <li>only some special characters can be searched using the command</li>
		  <li>none of these</li>
		</ul>

		<li>What is the option to use <code>find</code> command on files and folders recursively?</li>
		<ul>
		  <li>-r</li>
		  <li>command is implicitly recursive</li>
		</ul> 

		<li>Regular Expressions can be used with <code>find</code> command?</li>
		<ul>
		  <li>True</li>
		  <li>False</li>
		</ul>

		<li>Find can delete the unwanted files without any option?</li>
		<ul>
		  <li>Delete option has to be used</li>
		  <li>Find deletes the files after locating them</li>
		</ul>

	      </ol>
	      </p>
            </div>

          </section>

          <section id="experiment-article-section-8">
	    
            <div id="experiment-article-section-8-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab.-->
	      <img src="../images/readings.jpg" />
	    </div>

            <div id="experiment-article-section-8-heading" 
		 class="heading">
              Further Readings
            </div>

            <div id="experiment-article-section-8-content" 
		 class="content">

	      <p align="justify">

		<ul>

		  <li><a href="http://ss64.com/bash/grep.html">Grep Usage
		  Page</a></li>

		  <li><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?grep">Unix
		  Man Page for <code>grep</code> Command</a></li>

  		  <li>Wikipedia provides a comprehensive documentation
  		  on the <a href="http://en.wikipedia.org/wiki/Grep"><code>grep</code>
  		  command</a></li>

		  <li><a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?find">Unix
		  Man Page for <code>find</code> Command</a></li>

		  <li><a href="http://linux.die.net/man/1/find">Linux
		  Man Page for <code>find</code> Command</a></li>

		  <li><a href="http://linux.about.com/od/commands/l/blcmdl1_find.htm">Linux
		  Command - <code>find</code></a></li>

		</ul>  

	      </p>

            </div>

          </section>

	  <section id="experiment-article-section-9">

            <div id="experiment-article-section-9-icon" 
		 class="icon">
              <!-- Enclose the icon image of your lab.-->
              <img src="../images/readings.jpg" />
            </div>

            <div id="experiment-article-section-9-heading" 
		 class="heading">
	      
	      Feedback
            </div>

            <div id="experiment-article-section-9-content" 
		 class="content">
	      Please provide us feedback <a href="http://virtual-labs.ac.in/feedback/" >here</a>
            </div>

          </section>


	</div>


	<!-- An article can have a sidebar that contain related 
	     links and additional material (however it is kept optional 
	     at this moment) -->
	<aside id="lab-article-sidebar" class="default">
	  <!-- put the content that you want to appear in the 
	       sidebar -->	
	</aside>


	<!-- Article footer can display related content and 
	     additional links -->						
	<footer id="lab-article-footer" class="default">
	  <!-- Put the content that you want to appear here -->
	</footer>

      </article>


      <!-- Links to other labs, about us page can be kept the lab 
	   footer-->
      <footer id="lab-footer" class="footer">
	<!-- Put the content here-->
	<a href="http://virtual-labs.ac.in/nmeict/" >Sponsered by MHRD (NME-ICT) </a> | <a href="http://virtual-labs.ac.in/licensing/" target="_blank"> Licensing Terms </a>
      </footer>

    </div>		

  </body>
</html>

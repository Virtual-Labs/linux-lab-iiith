\<!-- This file needs to be edited by the lab developer to suit
the requirements of their lab in particular.-->

<!-- Add class="default" to include any element as it is
specified in default.html. 
Do not include class="default" to the elements that you want to
edit -->

<!DOCTYPE html>
<html>
<head></head>
<body>

<div id="experiment"> <!-- The Experiment Document Container-->

<!-- The lab Header contains the logo and the name of the lab,
	usually displayed on the top of the page-->

	<header id="experiment-header" >

	<div id="experiment-header-logo" class="logo">
	<!-- Enclose the logo image of your lab or write it in 
	text-->
	<img src="../images/logo.jpg" />
	</div>

	<div id="experiment-header-heading" class="heading">
	<!-- Write the name of your lab and link it to the home 
	page of your lab (h1 tag is preferred while writing your 
			lab name)-->
	<a href="../index.html">Systems and Software Virtual Lab</a>	
	</div>

	<!-- Add any additional element you want to add to the lab 
	header, For example : Help (Enclosing them with suitable 
			div is recommended)-->

	</header>


	<!-- The lab article is the main content area where all the 
	experiment content sits-->
	<article id="experiment-article">

	<!-- The lab article has an header, optional navigational 
	menu, number of sections, an optional sidebar and a closing 
	footer-->

	<header id="experiment-article-heading" class="heading">
	<!-- You can add a welcome message or title of the 
	experiment here -->
	  9. Basic Networking
	<!-- Add any additional element if required with proper 
	enclosing-->
	</header>

	<!-- Navigation menu is useful to organize the view of 
	multiple sections inside the article-->
	<nav id="experiment-article-navigation" class="default">
	<ul id="experiment-article-navigation-menu">
	<!-- The menu can be dynamically generated to contain 
	the headings of your sections or instead write the 
	menu items of your choice individually enclosedu in 
	<li> tag as shown below-->
	</ul>
	</nav>

	<!-- All the sections of your lab or experiment can be 
	enclosed together with a div element as shown below-->
	<div id="experiment-article-sections">

	<!-- First section of the article-->
	<section id="experiment-article-section-1">

	<div id="experiment-article-section-1-icon" 
	class="icon">
	<!-- Enclose the icon image of your lab -->
	<img src="../images/introduction.jpg" />
	</div>	

	<!-- The heading for the section can be enclosed in a 
	div tag. -->
	<div id="experiment-article-section-1-heading" 
	class="heading">
	Introduction
	</div>
	<!-- Write the section content inside a paragraph 
	element, You can also include images with <img> tag -->
	<div id="experiment-article-section-1-content" 
	     class="content">	
	  <p>
	    This experiment introduces basic networking-related
	    commands so that users can work across multiple machines
	    connected to each other via network.
	  </p>
	  <p>
	    Users will learn the following:
	    <ul>
	      <li>what is an IP address,</li>
	      <li>how to find current machine's IP address,</li>
	      <li>how to check network connectivity,</li>
	      <li>how to login to another machine connected via
		network,</li> 
	      <li>how to transfer files from one machine to another
		machine, and</li>
	      <li>how to synchronize files and directories across two machines on
		a network.</li>
	    </ul>
	  </p>
	  
	  <p> 
	    The experimental platform for this experiment is a command line
	    interface which mimics the terminal of a Linux machine. The command
	    line interface supports a few basic commands to enable the user to
	    learn Rsync basics. There are a series of tasks which need to be performed in each experiment.
	  </p>
	  <p> 
	    Proceed to the theory section to get an overview of
	    the commands. Then move to the experiment section to get some
	    hands-on experience and finish the experiment tasks. After you
	    are done with the experiment, go to the quiz section to test
	    your understanding.
	  </p>
	  
	</div>	
	</section>


	  <section id="experiment-article-section-2">
            
            <div id="experiment-article-section-2-icon" 
		 class="icon">
	      <!-- Enclose the icon image of your lab. -->
	      <img src="../images/objective.jpg" />
	    </div>
	    
            <!-- The heading for the section can be enclosed in a 
		 div tag. -->
            <div id="experiment-article-section-2-heading" 
		 class="heading">
	      Objective
            </div>
	    
	    
            <!-- Write the section content inside a paragraph 
	    element, we can also include images with <img> tag -->
            <div id="experiment-article-section-2-content" 
		 class="content">
	      <!-- Second section of the article-->
	      <p>
		This experiment aims to make you comfortable with
		working on remote machines and transferring
		files between two connected machines.
	      </p>
	      <p>
		After this experiment, you will be able
		to perform various activities listed in the
		Introduction section of this experiment.
	      </p>
	    </div>
	  </section>
	  
	<!-- Third section of the article-->
	<section id="experiment-article-section-3">

	<div id="experiment-article-section-3-icon" 
	class="icon">
	<!-- Enclose the icon image of your lab. -->
	<img src="../images/theory.jpg" />
	</div>

	<!-- The heading for the section can be enclosed in a 
	div tag. -->
	<div id="experiment-article-section-3-heading" 
	class="heading">
	Theory
	</div>


	<!-- Write the section content inside a paragraph 
	element, we can also include images with <img> tag -->
	<div id="experiment-article-section-3-content" 
	class="content">
	<h3>What is an IP address?</h3>
	<p>
	  An IP address is a way to identify a network
	  device, e.g. a computer, on a network.  In order
	  to connect to a computer, you need to know
	  its IP address.
	</p>
	<p>
	  A computer can have multiple IP addresses, one for
	  each interface it has.  An interface can be wired
	  or wireless.  So, if a machine is connected to the
	  network through both cable and wirelessly, it will
	  have two IP addresses.
	</p>
	<p>
	</p>
	<h3>How to find this machine's IP address?</h3>
	<p>
	  Running the command "/sbin/ifconfig" will display
	  the IP addresses of each interface on the
	  machine.  
	</p>
	<p>
	  The example below shows that the machine
	  has three interfaces: eth0, lo and wlan0.  
	</p>
	<ul>
	  <li>
	  "eth0" is the wired interface (eth
	  stands for ethernet).  The machine's IP address
	  for this interface is 10.9.24.110.
	  </li>
	  <li>
	  "lo" interface is a local interface
	  i.e. it cannot be used for communicating across
	  the network.  This interface is present on all
	  computers.  It's IP address is always 127.0.0.1.
	  </li>
	  <li>
	  "wlan0" is the wireless interface.  It's IP
	  address is 10.9.24.231.
	  </li>
	  <li>
	    This machine can be contacted via either of the
	    two IP addresses 10.9.24.110 and 10.9.24.231.
	  </li>
	</ul>
	<pre class="code">
aditi@mylaptop:~$ /sbin/ifconfig 
eth0      Link encap:Ethernet  HWaddr 60:eb:69:5e:a9:22  
          inet addr:10.9.24.110  Bcast:10.9.24.255  Mask:255.255.255.0
          inet6 addr: fe80::62eb:69ff:fe5d:a1f2/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:1797096 errors:0 dropped:0 overruns:0 frame:0
          TX packets:1167412 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:951537984 (951.5 MB)  TX bytes:99185523 (99.1 MB)
          Interrupt:40 Base address:0x2000 

lo        Link encap:Local Loopback  
          inet addr:127.0.0.1  Mask:255.0.0.0
          inet6 addr: ::1/128 Scope:Host
          UP LOOPBACK RUNNING  MTU:16436  Metric:1
          RX packets:42427 errors:0 dropped:0 overruns:0 frame:0
          TX packets:42427 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:0 
          RX bytes:26128666 (26.1 MB)  TX bytes:26128666 (26.1 MB)

wlan0     Link encap:Ethernet  HWaddr 60:eb:69:5e:a9:23  
          inet addr:10.9.24.231  Bcast:10.9.24.255  Mask:255.255.255.0
          inet6 addr: fe80::f27b:cbff:fea1:1581/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:440021 errors:0 dropped:0 overruns:0 frame:0
          TX packets:98766 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:86138146 (86.1 MB)  TX bytes:13110795 (13.1 MB)</pre>
	<p>
	</p>
	<h3>How to check if this machine is connected to
	other machines, to the Internet?</h3>
	<p>
	  Run the "ping" command with an IP address you want
	  to test e.g. 10.9.24.1.  Press CTRL-C when you
	  want to stop pinging.  The ping command's response
	  below shows that out of 3 packets transmitted to
	  the remote machine, all 3 were acknowledged
	  (received) with none of the packets being lost and
	  it took a total of about 2 seconds.
	</p>
	<pre class="code">
aditi@mylaptop:~$ ping 10.9.24.1
PING 10.9.24.1 (10.9.24.1) 56(84) bytes of data.                                                                
64 bytes from 10.9.24.1: icmp_req=1 ttl=255 time=0.787 ms                                                       
64 bytes from 10.9.24.1: icmp_req=2 ttl=255 time=1.20 ms                                                        
64 bytes from 10.9.24.1: icmp_req=3 ttl=255 time=0.782 ms                                                       
^C                                                                                                              
--- 10.9.24.1 ping statistics ---                                                                               
3 packets transmitted, 3 received, 0% packet loss, time 2002ms                                                  
rtt min/avg/max/mdev = 0.782/0.924/1.203/0.197 ms                                                               
aditi@mylaptop:~$</pre>
	<p>
	  To check Internet access, run the "ping" command
	  with a web service name e.g. www.google.com
	</p>
	<pre class="code">
aditi@mylaptop:~$ ping www.google.com                                                                          
PING www.google.com (173.194.36.17) 56(84) bytes of data.                                                       
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=1 ttl=52 time=33.1 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=2 ttl=52 time=33.1 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=3 ttl=52 time=33.1 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=4 ttl=52 time=32.9 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=5 ttl=52 time=32.7 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=6 ttl=52 time=33.2 ms                         
64 bytes from bom04s01-in-f17.1e100.net (173.194.36.17): icmp_req=7 ttl=52 time=32.7 ms                         
^C                                                                                                              
--- www.google.com ping statistics ---                                                                          
7 packets transmitted, 7 received, 0% packet loss, time 6008ms                                                  
rtt min/avg/max/mdev = 32.746/33.031/33.288/0.310 ms                                                            
aditi@mylaptop:~$</pre>
	<h3>How to login to another remote machine</h3>
	<p>
	  Use ssh (secure shell) to remotely connect to
	  another machine.  
	  ssh
	  passwd
	</p>
	
	<h3>How to copy files from one machine to another
	machine?</h3>
	<p>
	  scp
	</p>

	<h3>How to synchronize two files or directories on
	one machine to another machine</h3>
	<p>
	  rsync -vtrpaz
	</p>

	<p>rsync is a utility tool that is used to synchronize files
and folders across different directories in the same computer, or even
across different computers connected directly or via a network.

The main advantage which rsync has over other synchronization tools is
that is only transfers parts of a file/folder which have been changed,
unlike copying each file over and again, irrespective of that fact
whether that file has been changed or not.
</p>


<font size="4">1. Why is rsync needed?</font>
<p>For the sake of simplicity, we assume that we have a file in our /home
directory called *foo*, which is normally known as a *working copy*
(as we will always work on it), and we maintain a backup of the file
known as a *mirror*, in a folder */media/bar*, a mounted partition in
our computer.  This mounted partition can also exist on a separate
computer, about which we will discuss in some time.</p>

<p>A typical software project consists of several files, many of which
remain unchanged most of the time. If we maintain a backup of such a
project in a separate mounted partition every time we make a change ,
we end up copying many files which have not been altered since the
last backup. An obvious alternate would be to back up data on a hourly
or daily basis, but that would mean that if there is a system failure,
there is a very high probability that a certain user would lose upto a
day's work.</p>

<p>Thus, the obvious choice to make smart and faster backups is to use an
utility that would calculate whether a certain directory/file has any
changes compared to the backup directory. If there are any changes,
only those changes should be sent to the backup directory, and thus
save CPU cycles, and if the backup exists on a separate computer,
valuable network bandwidth.</p>

<p>rysnc does exactly that. It checks for files whose files sizes or
modification times have changed w.r.t. backups using a "quick-check"
al gorithm, and then, sends the differences across to the destination,
where the files/folders are appropriately altered.
</p>

<p><font size="4">How is rsync used?</font></p>
A typical use of rsync looks like:

rsync <options> <source> <destination>
<br />

<u>Create a file/folder which has to be rsynced</u>

<pre class="code">$ touch foo</pre> <br />

<u>Sync the file to the destination</u>

<pre class="code">$ rsync foo /media/bar</pre><br />

<u>Alter the contents of foo</u>

<pre class="code">$ echo "hello world">foo</pre><br />

<u>Rsync the file between two folders</u>

<pre class="code">$ rsync  foo /media/bar</pre><br />

<u>Alter the contents of foo again</u>

<pre class="code">$ echo "Welcome!">foo</pre><br />

<u>Rsync again between two folders</u>

<pre class="code">$ rsync foo /media/bar</pre> <br/>



<p>Any changes to made to foo and then rsynced to bar will effect in
rsync calculating the difference between two files and then
transmitting the difference, every time you run rsync. The same can be
applied to folders as well. </p>

<u>Create a folder and create a file inside it</u> <br />
<pre class="code">$ mkdir qux</pre><br />
<pre class="code">$ touch foo </pre><br /><br />

<u>Rsync qux to the backup directory /media/baz</u>

<pre class="code">$ rsync qux /media/baz</pre><br /><br />

<u>Create a couple of more files inside qux</pre></u>
<pre class="code"> $ echo "welcome!">foo</pre><br />
<pre class="code"> $ echo "hello world">bar</pre><br /> <br />

<u>Rsync qux to the backup directory /media/baz</u><br /><br />

<pre class="code">$ rsync -r qux /media/baz</pre><br />

<p>The option r means recursively synchronizing a folder. This is
particularly useful as rsync will go inside every sub-folder present
inside the parent directory.</p>

	</div>
      </section>






      <section id="experiment-article-section-5">
	<div id="experiment-article-section-5-icon" 
	     class="icon">
	  <!-- Enclose the icon image of your lab.-->
	  <img src="../images/simulation.jpg" />
	</div>
	
	<div id="experiment-article-section-5-heading" 
	     class="heading">
	  Tasks
	</div>
	
	<div id="experiment-article-section-5-content" 
	     class="content">
	  <p style="margin-left:0px">
	    Students who already have a Virtual-Labs login should click
	    <a href="javascript:void(0)"
	       onclick="window.open('../php/login-form.php?expid=9',
			'welcome', width=screen.availWidth, height=screen.availHeight,status='yes')">
	      here</a> 
	    to see the list of tasks for this experiment. <br /> 
	    In case the login credentials are not available, then please click 
	    <a href="../php/register-form.php">here</a> to
	    register.
	  </p>
        </div> 
      </section>




        <section id="experiment-article-section-6">
      
          <div id="experiment-article-section-6-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/quizzes.jpg" />
	  </div>

          <div id="experiment-article-section-6-heading" 
          class="heading">
            Quiz
          </div>

          <div id="experiment-article-section-6-content" 
          class="content">
<ol>
<li>How will you rsync to a remote machine with an existing SSH key?</li>
<li>Write a rsync script which will rsync across two
  folders: <i>/home/johndoe/work</i> and <i>/media/backup/work</i>,
  and if a file doesn't exist at the source but at the
  destination, the deleted file should be moved to the path <i>/media/backup/work/deleted-data</i>.</li>
</ol>
          </div>

        </section>

        <section id="experiment-article-section-8">
   
          <div id="experiment-article-section-8-icon" 
          class="icon">
	    <!-- Enclose the icon image of your lab.-->
	    <img src="../images/readings.jpg" />
	  </div>

          <div id="experiment-article-section-8-heading" 
          class="heading">
            Further Readings
          </div>

          <div id="experiment-article-section-8-content" 
          class="content">
	<ol>
<li><a href="http://www.thegeekstuff.com/2010/09/rsync-command-examples/">http://www.thegeekstuff.com/2010/09/rsync-command-examples/</a></li>
<li><a href="http://ss64.com/bash/rsync.html">http://ss64.com/bash/rsync.html</a></li>
</ol>
          </div>

        </section>

    <section id="experiment-article-section-9">

          <div id="experiment-article-section-9-icon" 
          class="icon">
            <!-- Enclose the icon image of your lab.-->
            <img src="../images/readings.jpg" />
          </div>

          <div id="experiment-article-section-9-heading" 
          class="heading">
	
	Feedback
          </div>

          <div id="experiment-article-section-9-content" 
          class="content">
	Please provide us feedback <a href="http://virtual-labs.ac.in/feedback/" >here</a>
          </div>

        </section>


      </div>


    <!-- An article can have a sidebar that contain related 
    links and additional material (however it is kept optional 
    at this moment) -->
    <aside id="lab-article-sidebar" class="default">
      <!-- put the content that you want to appear in the 
      sidebar -->	
    </aside>


    <!-- Article footer can display related content and 
    additional links -->						
    <footer id="lab-article-footer" class="default">
      <!-- Put the content that you want to appear here -->
    </footer>

  </article>


  <!-- Links to other labs, about us page can be kept the lab 
  footer-->
   <footer id="lab-footer" class="footer">
    <!-- Put the content here-->
	<a href="http://virtual-labs.ac.in/nmeict/" >Sponsered by MHRD (NME-ICT) </a> | <a href="http://virtual-labs.ac.in/licensing/" target="_blank"> Licensing Terms </a>
  </footer>

</div>		

</body>
</html>
